clear all;clc;close all;

R = [
[1 1 2 0.1;1 3 1 0.1;2 3 2 0.1;2 2 2 0.1;3 2 1 0.1;3 3 3 0.1;2 4 2 0.1;2 7 3 0.1;4 1 3 0.1;5 4 1 0.1;3 5 1 0.1;3 7 2 0.1];
[1 1 2 0.11;4 1 3 0.11;3 2 1 0.11;2 2 2 0.11;1 3 1 0.11;2 3 2 0.11;3 3 3 0.11;5 4 1 0.11;2 4 2 0.11;3 5 1 0.11;3 7 2 0.11;2 7 3 0.11];
[1 1 2 0.12;4 1 3 0.12;3 2 1 0.12;2 2 2 0.12;1 3 1 0.12;2 3 2 0.12;3 3 3 0.12;5 4 1 0.12;2 4 2 0.12;3 6 1 0.12;3 7 2 0.12;2 7 3 0.12];
[1 1 1 0.13;4 1 2 0.13;3 2 1 0.13;1 2 2 0.13;2 2 3 0.13;3 3 1 0.13;5 4 1 0.13;2 4 2 0.13;3 6 1 0.13;3 7 1 0.13;2 7 2 0.13];
[1 1 1 0.14;4 1 2 0.14;3 2 1 0.14;1 2 2 0.14;2 2 3 0.14;3 3 1 0.14;5 4 1 0.14;2 4 2 0.14;3 6 1 0.14;3 7 1 0.14;2 7 2 0.14];
[1 1 1 0.15;4 1 2 0.15;3 2 1 0.15;2 2 2 0.15;3 3 1 0.15;5 4 1 0.15;2 4 2 0.15;3 7 1 0.15];
[1 1 1 0.16;4 1 2 0.16;3 2 1 0.16;2 2 2 0.16;3 3 1 0.16;5 4 1 0.16;2 4 2 0.16;3 7 1 0.16];
[1 1 1 0.17;3 2 1 0.17;2 2 2 0.17;3 3 1 0.17;5 4 1 0.17;2 4 2 0.17;3 7 1 0.17];
[3 2 1 0.18;3 3 1 0.18;5 4 1 0.18];
[3 2 1 0.19;3 3 1 0.19;5 4 1 0.19];
[3 2 1 0.2;3 3 1 0.2;5 4 1 0.2];
];

B = [
[1 1 1 0.1;2 2 1 0.1;3 2 2 0.1;4 2 3 0.1;5 4 1 0.1;6 4 3 0.1];
[1 1 1 0.11;2 2 1 0.11;3 2 2 0.11;4 2 3 0.11;5 4 1 0.11;6 4 3 0.11];
[1 1 1 0.12;7 2 1 0.12;2 2 2 0.12;3 2 3 0.12;4 2 4 0.12;5 4 1 0.12;6 4 3 0.12];
[8 1 1 0.13;1 1 2 0.13;2 2 1 0.13;3 2 2 0.13;4 2 3 0.13;5 4 1 0.13;6 4 3 0.13];
[8 1 1 0.14;1 1 2 0.14;2 2 1 0.14;3 2 2 0.14;4 2 3 0.14;5 4 1 0.14;6 4 3 0.14];
[8 1 1 0.15;1 1 3 0.15;2 2 1 0.15];
[8 1 1 0.16;1 1 3 0.16;2 2 1 0.16];
[8 1 1 0.17;1 1 3 0.17;2 2 1 0.17];
[8 1 1 0.18;1 1 2 0.18;2 2 1 0.18];
[8 1 1 0.19;1 1 2 0.19;2 2 1 0.19];
[8 1 1 0.2;2 2 1 0.2];
];

G = [
[1 1 1 0.1;2 1 2 0.1;3 2 1 0.1;4 2 2 0.1;5 2 3 0.1;6 2 4 0.1;7 2 5 0.1;8 3 2 0.1;9 3 3 0.1;10 3 4 0.1;11 4 1 0.1;12 4 3 0.1;13 4 5 0.1;14 4 6 0.1;15 5 3 0.1;16 5 4 0.1;17 5 5 0.1;18 6 2 0.1;19 7 1 0.1;20 7 2 0.1;21 7 3 0.1];
[1 1 1 0.11;2 1 2 0.11;3 2 1 0.11;4 2 2 0.11;5 2 3 0.11;6 2 4 0.11;7 2 5 0.11;8 3 2 0.11;9 3 3 0.11;10 3 4 0.11;11 4 1 0.11;12 4 3 0.11;13 4 5 0.11;14 4 6 0.11;15 5 3 0.11;16 5 4 0.11;17 5 5 0.11;18 6 2 0.11;19 7 1 0.11;20 7 2 0.11;21 7 3 0.11];
[1 1 1 0.12;2 1 2 0.12;3 2 1 0.12;22 2 2 0.12;4 2 3 0.12;5 2 4 0.12;6 2 5 0.12;7 2 6 0.12;8 3 2 0.12;9 3 3 0.12;10 3 4 0.12;11 4 1 0.12;12 4 3 0.12;13 4 5 0.12;14 4 6 0.12;15 5 4 0.12;16 5 5 0.12;17 5 7 0.12;18 6 2 0.12;19 7 1 0.12;20 7 2 0.12;21 7 3 0.12];
[1 1 1 0.13;22 2 1 0.13;4 2 2 0.13;5 2 3 0.13;6 2 4 0.13;7 2 5 0.13;8 3 1 0.13;9 3 2 0.13;10 3 3 0.13;11 4 1 0.13;23 4 2 0.13;12 4 3 0.13;13 4 5 0.13;14 4 6 0.13;15 5 2 0.13;16 5 3 0.13;17 5 5 0.13;18 6 3 0.13;19 7 1 0.13;20 7 2 0.13;21 7 3 0.13];
[1 1 1 0.14;22 2 1 0.14;4 2 2 0.14;5 2 3 0.14;6 2 4 0.14;7 2 5 0.14;8 3 1 0.14;9 3 2 0.14;10 3 3 0.14;11 4 1 0.14;23 4 2 0.14;12 4 3 0.14;13 4 5 0.14;14 4 6 0.14;15 5 2 0.14;16 5 3 0.14;17 5 5 0.14;18 6 3 0.14;19 7 1 0.14;20 7 2 0.14;21 7 3 0.14];
[1 1 1 0.15;2 1 3 0.15;3 2 1 0.15;22 2 2 0.15;4 2 3 0.15;5 2 4 0.15;6 2 5 0.15;7 2 6 0.15;8 3 3 0.15;9 3 4 0.15;10 3 5 0.15;11 4 1 0.15;12 4 3 0.15;13 4 4 0.15;14 4 5 0.15;15 5 2 0.15;16 5 3 0.15;17 5 5 0.15;19 7 1 0.15;20 7 2 0.15;21 7 3 0.15];
[1 1 1 0.16;2 1 3 0.16;3 2 1 0.16;22 2 2 0.16;4 2 3 0.16;5 2 4 0.16;6 2 5 0.16;7 2 6 0.16;8 3 3 0.16;9 3 4 0.16;10 3 5 0.16;11 4 1 0.16;12 4 3 0.16;13 4 4 0.16;14 4 5 0.16;15 5 2 0.16;16 5 3 0.16;17 5 5 0.16;19 7 1 0.16;20 7 2 0.16;21 7 3 0.16];
[1 1 1 0.17;2 1 3 0.17;3 2 1 0.17;22 2 2 0.17;5 2 3 0.17;6 2 4 0.17;7 2 5 0.17;8 3 3 0.17;9 3 4 0.17;10 3 5 0.17;11 4 1 0.17;23 4 2 0.17;12 4 4 0.17;13 4 5 0.17;14 4 6 0.17;15 5 2 0.17;16 5 3 0.17;17 5 5 0.17;19 7 1 0.17;20 7 2 0.17;21 7 3 0.17];
[1 1 1 0.18;2 1 3 0.18;3 2 1 0.18;22 2 2 0.18;5 2 3 0.18;6 2 4 0.18;7 2 5 0.18;8 3 3 0.18;9 3 4 0.18;10 3 5 0.18;11 4 1 0.18;23 4 2 0.18;12 4 4 0.18;13 4 5 0.18;14 4 6 0.18;15 5 2 0.18;16 5 3 0.18;17 5 5 0.18;19 7 1 0.18;20 7 2 0.18;21 7 3 0.18];
[1 1 1 0.19;2 1 3 0.19;3 2 1 0.19;22 2 2 0.19;5 2 3 0.19;6 2 4 0.19;7 2 5 0.19;8 3 3 0.19;9 3 4 0.19;10 3 5 0.19;11 4 1 0.19;23 4 2 0.19;12 4 4 0.19;13 4 5 0.19;14 4 6 0.19;15 5 2 0.19;16 5 3 0.19;17 5 5 0.19;19 7 1 0.19;20 7 2 0.19;21 7 3 0.19];
[1 1 1 0.2;2 1 3 0.2;3 2 1 0.2;5 2 2 0.2;6 2 3 0.2;7 2 4 0.2;8 3 1 0.2;9 3 2 0.2;10 3 3 0.2;11 4 1 0.2;23 4 2 0.2;12 4 3 0.2;13 4 4 0.2;14 4 5 0.2;15 5 3 0.2;17 5 5 0.2;19 7 1 0.2];
];

[a,~] = size(R);
name = max(R(:,1));
color_distr = [1 1 0;1 0 1;0 0 0;0 1 1;0 0 1;0 1 0;1 0 0;0.5 0.5 0.5;0.5 0.5 0;0.5 0 0.5;0.5 0 0;0 0.5 0.5;0 0.5 0;0 0 0.5;0.25 0.25 0.25;0.25 0.25 0;0.25 0 0.25;0.25 0 0;0 0.25 0.25;0 0.25 0;0 0 0.25;0.1 0 0.5;0.5 0 0.1];
for h=1:name
    for j=1:7
        res1 = []; res2 = []; res3 = [];
        for threshold=[0.1 0.11 0.12 0.13 0.14 0.15 0.16 0.17 0.18 0.19 0.2]%0.1:0.01:0.2
            for i=1:a
                if R(i,2)==j && R(i,4)==threshold && R(i,1)==h
                    load (['output/threshold_',num2str(threshold),'/image_',num2str(j),'/color_1/data_',num2str(R(i,3)),'.mat']);
                    res1 = [res1;[feature(1),threshold]];
                    res2 = [res2;[feature(4),threshold]];
                    res3 = [res3;[feature(5),threshold]];
                end
            end
        end
        [b,~] = size(res1);
        if b>0
            figure(1);hold on;
            plot(res1(:,2),res1(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res1(:,2),res1(:,1),'sr');
            axis([0.1 0.2 20 100]);
        end
        [b,~] = size(res2);
        if b>0
            figure(2);hold on;
            plot(res2(:,2),res2(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res2(:,2),res2(:,1),'sr');
            axis([0.1 0.2 400 3250]);
        end
        [b,~] = size(res3);
        if b>0
            figure(3);hold on;
            plot(res3(:,2),res3(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res3(:,2),res3(:,1),'sr');
            axis([0.1 0.2 0 200]);
        end
    end
%     close all;
end
figure(1); saveas(gcf,'output/res_R1.png');
figure(2); saveas(gcf,'output/res_R2.png');
figure(3); saveas(gcf,'output/res_R3.png');
close all;


[a,~] = size(G);
name = max(G(:,1));
color_distr = [1 1 0;1 0 1;0 0 0;0 1 1;0 0 1;0 1 0;1 0 0;0.5 0.5 0.5;0.5 0.5 0;0.5 0 0.5;0.5 0 0;0 0.5 0.5;0 0.5 0;0 0 0.5;0.25 0.25 0.25;0.25 0.25 0;0.25 0 0.25;0.25 0 0;0 0.25 0.25;0 0.25 0;0 0 0.25;0.1 0 0.5;0.5 0 0.1];
for h=1:name
    for j=1:7
        res1 = []; res2 = []; res3 = [];
        for threshold=[0.1 0.11 0.12 0.13 0.14 0.15 0.16 0.17 0.18 0.19 0.2]%0.1:0.01:0.2
            for i=1:a
                if G(i,2)==j && G(i,4)==threshold && G(i,1)==h
                    load (['output/threshold_',num2str(threshold),'/image_',num2str(j),'/color_3/data_',num2str(G(i,3)),'.mat']);
                    res1 = [res1;[feature(2),threshold]];
                    res2 = [res2;[feature(4),threshold]];
                    res3 = [res3;[feature(5),threshold]];
                end
            end
        end
        [b,~] = size(res1);
        if b>0
            figure(1);hold on;
            plot(res1(:,2),res1(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res1(:,2),res1(:,1),'sr');
            axis([0.1 0.2 15 52]);
        end
        [b,~] = size(res2);
        if b>0
            figure(2);hold on;
            plot(res2(:,2),res2(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res2(:,2),res2(:,1),'sr');
            axis([0.1 0.2 800 4000]);
        end
        [b,~] = size(res3);
        if b>0
            figure(3);hold on;
            plot(res3(:,2),res3(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res3(:,2),res3(:,1),'sr');
            axis([0.1 0.2 20 225]);
        end
    end
%     close all;
end
figure(1); saveas(gcf,'output/res_G1.png');
figure(2); saveas(gcf,'output/res_G2.png');
figure(3); saveas(gcf,'output/res_G3.png');
close all;


[a,~] = size(B);
name = max(B(:,1));
color_distr = [1 1 0;1 0 1;0 0 0;0 1 1;0 0 1;0 1 0;1 0 0;0.5 0.5 0.5;0.5 0.5 0;0.5 0 0.5;0.5 0 0;0 0.5 0.5;0 0.5 0;0 0 0.5;0.25 0.25 0.25;0.25 0.25 0;0.25 0 0.25;0.25 0 0;0 0.25 0.25;0 0.25 0;0 0 0.25;0.1 0 0.5;0.5 0 0.1];
for h=1:name
    for j=1:7
        res1 = []; res2 = []; res3 = [];
        for threshold=[0.1 0.11 0.12 0.13 0.14 0.15 0.16 0.17 0.18 0.19 0.2]%0.1:0.01:0.2
            for i=1:a
                if B(i,2)==j && B(i,4)==threshold && B(i,1)==h
                    load (['output/threshold_',num2str(threshold),'/image_',num2str(j),'/color_2/data_',num2str(B(i,3)),'.mat']);
                    res1 = [res1;[feature(3),threshold]];
                    res2 = [res2;[feature(4),threshold]];
                    res3 = [res3;[feature(5),threshold]];
                end
            end
        end
        [b,~] = size(res1);
        if b>0
            figure(1);hold on;
            plot(res1(:,2),res1(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res1(:,2),res1(:,1),'sr');
            axis([0.1 0.2 35 65]);
        end
        [b,~] = size(res2);
        if b>0
            figure(2);hold on;
            plot(res2(:,2),res2(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res2(:,2),res2(:,1),'sr');
%             axis([0.1 0.2 0 3500]);
        end
        [b,~] = size(res3);
        if b>0
            figure(3);hold on;
            plot(res3(:,2),res3(:,1),'Color',color_distr(h,:),'LineWidth',2);
%             plot(res3(:,2),res3(:,1),'sr');
%             axis([0.1 0.2 0 200]);
        end
    end
%     close all;
end
figure(1); saveas(gcf,'output/res_B1.png');
figure(2); saveas(gcf,'output/res_B2.png');
figure(3); saveas(gcf,'output/res_B3.png');
close all;


% close all;

figure(4);hold on;
for h=1:23
    plot(0:1:3,[h;h;h;h],'Color',color_distr(h,:),'LineWidth',2);
end
saveas(gcf,'output/color.png');